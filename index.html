<!DOCTYPE html>
<html>

<head>
  <link href="./statics/js/app.css" rel="stylesheet" type="text/css" />

  <meta charset="UTF-8">
  <title>DavidBot ü§ñ | ADN 3.0 ü§òüèæ</title>
</head>



<body>


  <div id="loader">

    <div class="center">
      <div class="spinner-wrapper">
        <div class="server-wrapper">
          <div class="server">
            <div class="HDD"></div>
            <div class="indicator"></div>
          </div>
          <div class="server">
            <div class="HDD"></div>
            <div class="indicator"></div>
          </div>
          <div class="server">
            <div class="HDD"></div>
            <div class="indicator"></div>
          </div>
          <div class="server">
            <div class="HDD"></div>
            <div class="indicator"></div>
          </div>
          <div class="server">
            <div class="HDD"></div>
            <div class="indicator"></div>
          </div>
        </div>
        <div class="spinner">
          <div class="rect1"></div>
          <div class="rect2"></div>
          <div class="rect3"></div>
          <div class="rect4"></div>
          <div class="rect5"></div>
          <div class="rect6"></div>
          <div class="rect7"></div>
          <div class="rect8"></div>
          <div class="rect9"></div>
          <div class="rect10"></div>
          <br>
          <br>
          <div class="rect11"></div>
          <div class="rect12"></div>
          <div class="rect13"></div>
          <div class="rect14"></div>
          <div class="rect15"></div>
          <div class="rect16"></div>
          <div class="rect17"></div>
          <div class="rect18"></div>
          <div class="rect19"></div>
          <div class="rect20"></div>
        </div>
        <div class="probe">
          <div class="screen">
            <br>
            <div class="slit"></div>
            <div class="slit"></div>
            <div class="slit"></div>
            <div class="slit"></div>
            <div class="slit"></div>
            <div class="slit"></div>
            <div class="slit"></div>
            <div class="slit"></div>
            <div class="slit"></div>
            <!--
              <div class="blue"></div>
              -->
          </div>
        </div>
      </div>
    </div>
    <div class="text" id="text">
      Cargando Servicios...
    </div>
  </div>

  <div id="menu">
    <script id="template" type="text/x-handlebars-template">
      <nav>
        <header>
        <img class="profile-image" src="notifyiconblanco.png" style="
    padding-top: 30px;
    margin-bottom: -49px;
">
        <h3>Mapa ADN</h3>
        </header>
      
        <section>
          <header>Servidores</header>
          <ul>
            {{#each people}}
            <li class="green boton databuton" data-name="{{this.name}}" data-deploy="{{this.pm2_env.pm_cwd}}"  id="{{this.pm_id}}">{{this.name}} <span class="server-status" type="up"></span></li>
            {{/each}}
            <li class="red boton" id="crearServer" onclick="crearServer()">Crear Servicio</li>
          </ul>

        </section>
      </nav>
      <article>
        <header>
          <div class="title"><span id="s"></span></div>
    
              
              <div class="interval">
                <ul>
                  <li class="boton topboton" id="auth-button-restart">Reiniciar Servicios</li>
                  <li class="boton topboton" onclick="crearServer()">Agregar Servicio</li>
                  <li class="boton topboton" id="auth-button-deploy">Deploy General</li>
       
                </ul>
              </div>

        
         
        </header>
        <section>
<div class="interval" id="recarca" style="text-align: right;margin-top: -30px;float: right;width: 100%;">
            <div class="title" style="
    float: left;
    font-size: 17px;
    color: #fff;
    margin-top: 27px;
    text-align: left;
    padding-left: 28px;
    /* margin-right: 103px; */
    padding-right: 30px;
"><span id="nameservi"> </span></div>
            <a style="display:none" href="#" class="dep action-button shadow animate ">DEPLOY</a>
            <a style="display:none" href="#" class="rec action-button shadow animate ">Recargar Log</a>
            <a style="display:none" href="#" class="serv action-button shadow animate red-1">Reiniciar Servicio</a>
          </div>
          <div class="chart">
<div style="background:#021523;position: absolute;width: 100%;z-index: -1;background-size: 100% 100%;background-repeat: no-repeat;min-height: 557px;">

</div>
<pre id="servid" class="codepre" >


  __  __     _     ___     _       ____       __          _     ___    _  _ 
 |  \/  |   /_\   | _ \   /_\     |__ /      /  \        /_\   |   \  | \| |
 | |\/| |  / _ \  |  _/  / _ \     |_ \  _  | () |      / _ \  | |) | | .` |
 |_|  |_| /_/ \_\ |_|   /_/ \_\   |___/ (_)  \__/      /_/ \_\ |___/  |_|\_|
  ___  __   __    _     ___   _____   ___   _  _   ___   ___     _     _  _ 
 | _ ) \ \ / /   (_)   | __| |_   _| | __| | || | | __| | _ \   /_\   | \| |
 | _ \  \ V /     _    | _|    | |   | _|  | __ | | _|  |   /  / _ \  | .` |
 |___/   |_|     (_)   |_|     |_|   |___| |_||_| |___| |_|_\ /_/ \_\ |_|\_|
 </pre>

            
          </div>
        </section>

      </article>
      <div id="myModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
          <span class="close" onclick="cerrar()">&times;</span>

      <p style="
    padding-left: 20px;
">Digita la informacion correspondiente para crear su servidor API</p>
          
        <div class="container">
          <form>
            <div class="input-group">
              <input type="text" id="schema" required="required">
              <label for="f1">Schema</label>
              <span class="bar"></span>
              <div class="input-group-append">
                <div class="input-group-text"><i class="fa fa-user"></i></div>
              </div>
            </div>
              <div class="input-group">
                <input type="number"  id="puerto" required="required" val="7015">
                <label for="f1">Puerto</label>
                <span class="bar"></span>
                <div class="input-group-append">
                  <div class="input-group-text"><i class="fa fa-user"></i></div>
                </div>
              </div>
        
            <div id="buttons">
              <a href="#" class="btn-b verde" onclick="cerrarCrear()" id="auth-button-create">Crear Servicio</a>
            </div>
       
          </form>
        </div>
        </div>
      
      </div>
    </script>

  </div>

  <!-- All of the Node.js APIs are available in this renderer process. -->


  <!-- All of the Node.js APIs are available in this renderer process. -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.4/handlebars.min.js"></script>
  <div style="
position: absolute;
color: #fff;
margin-left: 2%;
top: 10px;
z-index: 10;
">DavidBot ü§ñ : <span id="version">vX.Y.Z</span>
    <br>

  </div>
  <div id="messages" style="font-size:12px;width:100%;height: 90px;position: fixed;bottom: 0;background: #2ecc71;padding: 10px;color: #fff;overflow-y: auto;"></div>
  <div id="dataserver" style="font-size:12px;width:100%;height: 90px;position: fixed;bottom: 0;background: #021523;padding: 10px;color: #fff;overflow-y: auto;">
    Servicios API REST
  </div>
  <script>
    window.$ = window.jQuery = require('jquery');
  </script>
  <script>
    // You can also require other files to run in this process
    require('./statics/js/renderer.js')
    // Display the current version
    // Display the current version
    let version = window.location.hash.substring(1);
    document.getElementById('version').innerText = version;
    // Listen for messages
    const {
      ipcRenderer
    } = require('electron');
    ipcRenderer.on('message', function (event, text) {
      console.log(event, text)
      var container = document.getElementById('messages');
      var dataserver = document.getElementById('dataserver');
      var message = document.createElement('div');
      console.log(container)
      if (text == 'Update not available.') {
        container.style = 'display:none'
      } else {
        message.innerHTML = text;
        dataserver.style = 'display:block'

      }

      container.appendChild(message);
    })
  </script>



  <script src="./statics/js/app.js"></script>

</body>

</html>


<script>

</script>

<!-- the button onClick sends a quitAndInstall message to the electron main process -->